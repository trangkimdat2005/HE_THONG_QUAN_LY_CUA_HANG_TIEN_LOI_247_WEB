@using HE_THONG_QUAN_LY_CUA_HANG_TIEN_LOI_247_WEB.Models.Entities;

@{

    ViewData["title"] = "Danh Sách Sản Phẩm";
}
  <!-- Css riêng ở đây nha -->
  <link rel="stylesheet" href="~/assets/lib/select2/dist/css/select2.min.css">
  <link rel="stylesheet" href="~/assets/css/ThemHangHoa.css">

  <!-- Main sidebar ở đây nha -->


  <main class="app-content">
    <div class="app-title">
      <div>
        <h1><i class="bi bi-bar-chart-steps"></i> Quản lý Sản phẩm</h1>
        <p>Quản lý tất cả sản phẩm có trong cửa hàng</p>
      </div>
      <ul class="app-breadcrumb breadcrumb side">
        <li class="breadcrumb-item"><i class="bi bi-house-door fs-6"></i></li>
        <li class="breadcrumb-item">Quản lý hàng hoá</li>
        <li class="breadcrumb-item active">
          <a href="#">Danh sách sản phẩm</a>
        </li>
      </ul>
    </div>

    <div class="row" id="main-row-container">

      <div class="col-md-12" id="product-list-col">
        <div class="tile">
          <div class="tile-title-w-btn d-flex justify-content-between align-items-center">
            <h3 class="title" style="margin-bottom: 0">Danh Sách Sản Phẩm</h3>
            <a class="btn btn-primary btn-add-khoi" href="#" id="show-add-form-btn">
              <i class="fas fa-plus"></i> Thêm sản phẩm mới
            </a>
          </div>

          <div class="tile-body">
            <div class="table-responsive">
              <table class="table table-hover table-bordered" id="sampleTable">
                <thead>
                  <tr>
                    <th>Mã sản phẩm</th>
                    <th>Tên sản phẩm</th>
                    <th>Danh mục</th>
                    <th>Nhãn hiệu</th>
                    <th>Đơn vị</th>
                    <th>Giá bán</th>
                    <th>Trạng thái</th>
                    <th class="text-center">Thao tác</th>
                  </tr>
                </thead>
                <tbody>
                  <tr data-id="CK001" data-name="Thịt gà công nghiệp" data-danh-muc-ids='["DM_TP"]'
                    data-nhan-hieu-id="NH_CP" data-don-vi-id="DV_KG" data-price="85000"
                    data-mo-ta="Thịt gà tươi, đã làm sạch." data-trang-thai="ConHang">
                    <td>CK001</td>
                    <td>Thịt gà công nghiệp</td>
                    <td>Thực phẩm</td>
                    <td>CP Foods</td>
                    <td>KG</td>
                    <td>85,000 đ</td>
                    <td><span class="badge bg-success">Còn hàng</span></td>
                    <td class="text-center">
                      <a class="btn btn-info btn-sm me-1 btn-edit-khoi " href="#" title="Sửa">
                        <i class="fas fa-edit"></i>
                      </a>
                      <a class="btn btn-danger btn-sm btn-delete-khoi" href="#" title="Xóa">
                        <i class="fas fa-trash-alt"></i>
                      </a>
                    </td>
                  </tr>
                  <tr data-id="ST001" data-name="Sữa tươi TH True Milk (Lốc 4)" data-danh-muc-ids='["DM_SUA", "DM_DU"]'
                    data-nhan-hieu-id="NH_TH" data-don-vi-id="DV_LOC" data-price="38000"
                    data-mo-ta="Lốc 4 hộp 180ml, ít đường." data-trang-thai="ConHang">
                    <td>ST001</td>
                    <td>Sữa tươi TH True Milk (Lốc 4)</td>
                    <td>Sản phẩm từ sữa, Đồ uống</td>
                    <td>TH True Milk</td>
                    <td>Lốc</td>
                    <td>38,000 đ</td>
                    <td><span class="badge bg-success">Còn hàng</span></td>
                    <td class="text-center">
                      <a class="btn btn-info btn-sm me-1 btn-edit-khoi " href="#" title="Sửa">
                        <i class="fas fa-edit"></i>
                      </a>
                      <a class="btn btn-danger btn-sm btn-delete-khoi" href="#" title="Xóa">
                        <i class="fas fa-trash-alt"></i>
                      </a>
                    </td>
                  </tr>
                  <tr data-id="NGK002" data-name="Sting Dâu" data-danh-muc-ids='["DM_DU"]' data-nhan-hieu-id="NH_PEPSI"
                    data-don-vi-id="DV_CHAI" data-price="10000" data-mo-ta="Nước tăng lực Sting dâu, chai 330ml"
                    data-trang-thai="NgungKinhDoanh">
                    <td>NGK002</td>
                    <td>Sting Dâu</td>
                    <td>Đồ uống</td>
                    <td>PepsiCo</td>
                    <td>Chai</td>
                    <td>10,000 đ</td>
                    <td><span class="badge bg-danger">Ngừng kinh doanh</span></td>
                    <td class="text-center">
                      <a class="btn btn-info btn-sm me-1 btn-edit-khoi " href="#" title="Sửa">
                        <i class="fas fa-edit"></i>
                      </a>
                      <a class="btn btn-danger btn-sm btn-delete-khoi" href="#" title="Xóa">
                        <i class="fas fa-trash-alt"></i>
                      </a>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-0" id="product-form-col">
        <div class="tile">
          <h3 class="tile-title" id="form-title">Thêm Sản Phẩm Mới</h3>
          <div class="tile-body">
            <form id="product-form">

              <div class="avatar-upload-container">
                <img class="avatar-preview" id="form-avatar-preview" src="https://via.placeholder.com/200?text=Ảnh SP"
                  alt="Ảnh sản phẩm">
                <input class="avatar-edit-input" type="file" id="form-avatar-upload" accept=".png, .jpg, .jpeg">
                <label class="avatar-edit-label" for="form-avatar-upload"><i class="bi bi-camera-fill"></i></label>
              </div>

              <div class="mb-3">
                <label class="form-label">Mã sản phẩm (id)</label>
                <input class="form-control" type="text" id="form-product-id" placeholder="Mã sẽ được tạo tự động"
                  readonly>
              </div>

              <div class="mb-3">
                <label class="form-label">Tên sản phẩm</label>
                <input class="form-control" type="text" id="form-product-name"
                  placeholder="V.d: Nước tăng lực Sting Dâu" required>
              </div>

              <div class="mb-3">
                <label class="form-label">Nhãn hiệu </label>
                <select class="form-control" id="form-select-nhan-hieu" style="width: 100%;">
                  <option value="">-- Chọn nhãn hiệu --</option>
                  <option value="NH_PEPSI">PepsiCo</option>
                  <option value="NH_ORION">Orion</option>
                  <option value="NH_VNM">Vinamilk</option>
                  <option value="NH_TH">TH True Milk</option>
                  <option value="NH_CP">CP Foods</option>
                </select>
              </div>

              <div class="mb-3">
                <label class="form-label">Danh mục </label>
                <select class="form-control" id="form-select-danh-muc" multiple="multiple" style="width: 100%;">
                  <option value="DM_DU">Đồ uống</option>
                  <option value="DM_AN">Đồ ăn nhanh</option>
                  <option value="DM_SUA">Sản phẩm từ sữa</option>
                  <option value="DM_TP">Thực phẩm</option>
                  <option value="DM_HS">Hải sản</option>
                </select>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label">Đơn vị cơ sở</label>
                    <select class="form-control" id="form-select-don-vi" style="width: 100%;">
                      <option value="DV_CHAI">Chai</option>
                      <option value="DV_LON">Lon</option>
                      <option value="DV_GOI">Gói</option>
                      <option value="DV_HOP">Hộp</option>
                      <option value="DV_LOC">Lốc</option>
                      <option value="DV_KG">KG</option>
                      <option value="DV_GRAM">Gram</option>
                    </select>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="mb-3">
                    <label class="form-label">Hệ số quy đổi</label>
                    <input class="form-control" type="number" value="1" readonly
                      title="Đơn vị cơ sở luôn có hệ số là 1">
                  </div>
                </div>
              </div>

              <div class="mb-3">
                <label class="form-label">Giá bán (của Đơn vị cơ sở)</label>
                <input class="form-control" type="number" id="form-product-price" placeholder="V.d: 10000">
              </div>

              <div class="mb-3">
                <label class="form-label">Mô tả sản phẩm</label>
                <textarea class="form-control" id="form-product-description" rows="3"
                  placeholder="Mô tả chi tiết sản phẩm"></textarea>
              </div>

              <div class="mb-3">
                <label class="form-label">Trạng thái</label>
                <div class="form-check">
                  <label class="form-check-label">
                    <input class="form-check-input" type="radio" name="trangThaiSP" value="ConHang" checked>Còn hàng
                  </label>
                </div>
                <div class="form-check">
                  <label class="form-check-label">
                    <input class="form-check-input" type="radio" name="trangThaiSP" value="HetHang">Hết hàng
                  </label>
                </div>
                <div class="form-check">
                  <label class="form-check-label">
                    <input class="form-check-input" type="radio" name="trangThaiSP" value="NgungKinhDoanh">Ngừng kinh
                    doanh
                  </label>
                </div>
              </div>

            </form>
          </div>
          <div class="tile-footer">
            <button class="btn btn-primary" type="button" id="btn-submit">
              <i class="bi bi-check-circle-fill me-2"></i>Thêm
            </button>

            <button class="btn btn-info" type="button" id="btn-edit-mode" style="display: none;">
              <i class="fas fa-edit me-2"></i>Chỉnh sửa
            </button>

            <a class="btn btn-secondary" href="#" id="btn-cancel">
              <i class="bi bi-x-circle-fill me-2"></i>Huỷ
            </a>
          </div>
        </div>
      </div>
    </div>
  </main>


  <!-- js riêng ở đây nha! -->
  <script src="~/assets/lib/select2/dist/js/select2.min.js"></script>
 <script src="~/assets/js/DanhSachSanPham.js"></script>
