@using HE_THONG_QUAN_LY_CUA_HANG_TIEN_LOI_247_WEB.Models.Entities;

@{

    ViewData["title"] = "Sửa Thông Tin Thanh Toán Hóa Đơn";
}
  <!-- Css riêng ở đây nha -->
<link rel="stylesheet" href="~/assets/css/ThanhToanHoaDon.css">

  <!-- Main sidebar ở đây nha -->




<main class="app-content">
    <div class="app-title">
      <div>
        <h1><i class="bi bi-credit-card"></i> Giao Dịch Thanh Toán</h1>
        <p>Hoàn tất giao dịch cho khách hàng</p>
      </div>
      <ul class="app-breadcrumb breadcrumb">
        <li class="breadcrumb-item"><i class="bi bi-house-door fs-6"></i></li>
        <li class="breadcrumb-item"><a href="#">Thanh toán</a></li>
      </ul>
    </div>

    <div class="row">
      <div class="col-lg-7">
        <div class="tile">
          <h3 class="tile-title"><i class="bi bi-currency-dollar"></i> Tổng Cộng Phải Thanh Toán</h3>
          <div class="tile-body">
            
            <div class="payment-total-box mb-4">
              <div class="amount" id="total-amount-display" data-value="200690">200.690 đ</div>
              <div class="note">Đã bao gồm VAT và giảm giá</div>
            </div>

            <label class="form-label fw-bold"><i class="bi bi-wallet2"></i> Chọn Phương Thức Thanh Toán:</label>
            <div class="d-flex payment-method-selector mb-3">
              <a href="#" id="btn-cash-method" class="btn btn-success flex-fill me-1">
                <i class="bi bi-cash-coin me-2"></i>Tiền Mặt
              </a>
              <a href="#" id="btn-qr-method" class="btn btn-outline-primary flex-fill ms-1">
                <i class="bi bi-qr-code me-2"></i>QR Code / Ví Điện Tử
              </a>
            </div>
            
            <div class="mb-3">
              <label class="form-label"><i class="bi bi-calendar-check"></i> Ngày Giao Dịch:</label>
              <input class="form-control" type="date" id="input-ngay-giao-dich">
            </div>

          </div>
        </div>
      </div>

      <div class="col-lg-5">

        <div class="tile" id="cash-payment-panel">
          <h3 class="tile-title"><i class="bi bi-cash"></i> Thanh Toán Tiền Mặt</h3>
          <div class="tile-body">
            
            <div class="mb-3">
              <label class="form-label fw-bold" for="cash-received">Tiền Khách Đưa (*)</label>
              <input class="form-control form-control-lg" type="number" id="cash-received" placeholder="Nhập số tiền khách trả">
            </div>

            <div class="mb-3">
              <label class="form-label">Gợi ý mệnh giá:</label>
              <div class="suggestion-buttons">
                <button class="btn btn-outline-secondary btn-sm btn-suggestion" data-amount="210000">210.000 đ</button>
                <button class="btn btn-outline-secondary btn-sm btn-suggestion" data-amount="300000">300.000 đ</button>
                <button class="btn btn-outline-secondary btn-sm btn-suggestion" data-amount="500000">500.000 đ</button>
                <button class="btn btn-outline-secondary btn-sm btn-suggestion" data-amount="1000000">1.000.000 đ</button>
              </div>
            </div>

            <hr>

            <div class="mb-3">
              <label class="form-label fw-bold">Tiền Thối Lại (Trả Khách)</label>
              <div class="payment-change-box" id="change-display">
                </div>
            </div>

            <div class="d-grid">
              <button class="btn btn-success btn-lg" id="complete-payment-btn">
                <i class="bi bi-check-circle-fill me-2"></i>Hoàn Tất Giao Dịch
              </button>
            </div>
          </div>
        </div>

        <div class="tile d-none" id="qr-payment-panel">
          <h3 class="tile-title"><i class="bi bi-qr-code-scan"></i> Thanh Toán QR Code</h3>
          <div class="tile-body d-flex flex-column align-items-center">
            <p class="text-center">Khách hàng quét mã QR để thanh toán <strong>200.690 đ</strong></p>
            
            <img src="https://api.vietqr.io/image/970436-1133666888-OkdEItT.jpg?accountName=CTK%20NGUYEN%20VAN%20A&amount=200690&addInfo=HD001" 
                 alt="QR Code Thanh Toán" id="qr-code-image" class="mt-3 mb-3">
            
            <p class="text-muted">Chờ xác nhận thanh toán từ hệ thống...</p>
            
            <div class="d-grid w-100">
              <button class="btn btn-primary">
                <i class="bi bi-arrow-clockwise me-2"></i>Kiểm Tra Trạng Thái
              </button>
            </div>
          </div>
        </div>
        
      </div>
    </div>
  </main>


  <!-- js riêng ở đây nha! -->
<script src="~/assets/js/ThanhToanHoaDon.js"></script>

