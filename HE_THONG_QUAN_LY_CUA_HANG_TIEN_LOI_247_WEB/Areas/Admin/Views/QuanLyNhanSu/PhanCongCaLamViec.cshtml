@using HE_THONG_QUAN_LY_CUA_HANG_TIEN_LOI_247_WEB.Models.Entities

@{

    ViewData["title"] = "Phân Công Ca Làm Việc";
    var lstNhanVien = ViewData["lstNhanVien"] as List<NhanVien> ?? new List<NhanVien>();
}
  <!-- Main sidebar ở đây nha -->
<link href="~/assets/css/phancongcalamviec.css" rel="stylesheet">


<main class="app-content">
    <div class="app-title">
        <div>
            <h1><i class="bi bi-calendar-check"></i> Phân Công Ca Làm Việc</h1>
            <p>Chế độ chỉnh sửa chi tiết</p>
        </div>
        <ul class="app-breadcrumb breadcrumb">
            <li class="breadcrumb-item"><i class="bi bi-house-door fs-6"></i></li>
            <li class="breadcrumb-item">Quản lý nhân sự</li>
            <li class="breadcrumb-item active"><a href="#">Phân công ca</a></li>
        </ul>
    </div>

    <div class="row">
        <div class="col-md-12">
            <div class="tile p-0">
                <div class="bg-header-custom p-3">
                    <h4 class="m-0 text-uppercase fs-5">Phân công ca làm việc</h4>
                </div>

                <div class="control-toolbar">
                    <div class="row align-items-center">
                        <div class="col-md-5 d-flex align-items-center mb-2 mb-md-0">
                            <label class="fw-bold me-2 text-nowrap">Chọn NV:</label>
                            <select class="form-select w-75" id="employeeSelect">
                                @foreach (var nv in lstNhanVien)
                                {
                                    <option value="@nv.Id">@nv.Id - @nv.HoTen</option>
                                }
                            </select>
                        </div>

                        <div class="col-md-4 text-center mb-2 mb-md-0">
                            <button class="btn btn-outline-secondary btn-sm" id="btnPrevWeek">Tuần trước</button>
                            <div class="date-display-box" id="currentWeekDisplay">...</div>
                            <button class="btn btn-outline-secondary btn-sm" id="btnNextWeek">Tuần sau</button>
                        </div>

                        <div class="col-md-3 text-end">
                            <button class="btn btn-info text-white me-1" id="btnAutoAssign" title="Lấy lịch tuần trước">
                                <i class="bi bi-magic"></i> Tự động
                            </button>
                            <button class="btn btn-success me-1" id="btnSave">
                                <i class="bi bi-save"></i> Lưu
                            </button>
                            <a class="btn btn-danger" href="/QuanLyNhanSu/LichLamViec">
                                <i class="bi bi-x-circle"></i> Hủy
                            </a>
                        </div>
                    </div>
                </div>

                <div class="table-responsive">
                    <table class="table mb-0 assignment-table">
                        <thead>
                            <tr id="tableHeaderRow">
                                <th>Ca làm việc</th>
                            </tr>
                        </thead>
                        <tbody id="tableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</main>
<script src="~/assets/js/phancongcalamviec.js" asp-append-version="true" defer></script>
<script src="~/assets/js/SuaPhanCong.js" asp-append-version="true" defer></script>
    <script src="~/assets/js/DanhSachPC.js" asp-append-version="true" defer></script>

