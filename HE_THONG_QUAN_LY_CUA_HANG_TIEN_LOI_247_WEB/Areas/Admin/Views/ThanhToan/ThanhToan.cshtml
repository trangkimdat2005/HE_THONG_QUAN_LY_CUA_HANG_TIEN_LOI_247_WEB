@using HE_THONG_QUAN_LY_CUA_HANG_TIEN_LOI_247_WEB.Models.Entities;

@{
	ViewData["title"] = "Quản Lý Thanh Toán";
}

<link rel="stylesheet" href="~/assets/css/ThanhToan.css">

<main class="app-content">
	<div class="app-title">
		<div>
			<h1><i class="bi bi-wallet"></i> Quản lý Kênh Thanh Toán</h1>
			<p>Cấu hình các phương thức thanh toán được chấp nhận</p>
		</div>
		<ul class="app-breadcrumb breadcrumb side">
			<li class="breadcrumb-item"><i class="bi bi-house-door fs-6"></i></li>
			<li class="breadcrumb-item active"><a href="#">Thanh toán</a></li>
		</ul>
	</div>

	<div class="row" id="main-content-row">

		<div class="col-lg-12" id="list-column">
			<div class="tile">
				<div class="tile-title-w-btn d-flex justify-content-between align-items-center">
					<h3 class="title" style="margin-bottom: 0">Danh Sách Kênh Thanh Toán</h3>
					<button class="btn btn-primary btn-add-khoi" type="button" id="btn-show-add-form">
						<i class="fas fa-plus"></i> Thêm kênh mới
					</button>
				</div>

				<div class="tile-body">
					<div class="table-responsive">
						<table class="table table-hover table-bordered" id="sampleTable">
							<thead>
								<tr>
									<th>Mã Kênh</th>
									<th>Tên Kênh Thanh Toán</th>
									<th>Loại Kênh</th>
									<th>Phí Giao Dịch (%)</th>
									<th>Trạng Thái</th>
									<th>Thao tác</th>
								</tr>
							</thead>
							<tbody id="tbody-kenh-thanh-toan">
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-4 form-column" id="form-column">
			<div class="tile form-panel">
				<div class="tile-title">
					<h3 id="form-title">Thêm Kênh Mới</h3>
					<button class="btn-close" type="button" aria-label="Close" id="btn-close-form"></button>
				</div>

				<div class="tile-body">
					<form id="payment-channel-form">

						<div class="mb-3">
							<label class="form-label">Mã Kênh</label>
							<input class="form-control" type="text" id="form-id" name="id" placeholder="V.d: VI_ZALOPAY, QR_VIETQR">
							<small class="form-text text-muted">Mã này là duy nhất, không dấu, viết hoa.</small>
						</div>

						<div class="mb-3">
							<label class="form-label">Tên Kênh</label>
							<input class="form-control" type="text" id="form-tenKenh" name="tenKenh" placeholder="V.d: Ví ZaloPay" required>
						</div>

						<div class="mb-3">
							<label class="form-label">Loại Kênh</label>
							<select class="form-select" id="form-loaiKenh" name="loaiKenh">
								<option value="TIEN_MAT">Tiền Mặt</option>
								<option value="VI_DIEN_TU">Ví Điện Tử</option>
								<option value="QR_PAY">Quét Mã QR</option>
								<option value="THE">Quẹt Thẻ</option>
								<option value="CHUYEN_KHOAN">Chuyển Khoản</option>
							</select>
						</div>

						<div class="mb-3">
							<label class="form-label">Phí Giao Dịch</label>
							<div class="input-group">
								<input class="form-control" type="number" id="form-phiGiaoDich" name="phiGiaoDich" value="0.00" step="0.01">
								<span class="input-group-text">%</span>
							</div>
						</div>

						<div class="mb-3">
							<label class="form-label">Trạng Thái</label>
							<select class="form-select" id="form-trangThai" name="trangThai">
								<option value="Active"> Active (Hoạt động)</option>
								<option value="Inactive">Inactive (Không hoạt động)</option>
							</select>
						</div>

						<div class="mb-3">
							<label class="form-label">Cấu Hình</label>
							<textarea class="form-control" id="form-cauHinh" name="cauHinh" rows="3" placeholder="Nhập cấu hình JSON (nếu có)"></textarea>
							<small class="form-text text-muted">V.d: {"merchant_id": "ABC12345"}</small>
						</div>

					</form>
				</div>
				<div class="tile-footer">
					<div class="d-flex justify-content-end">
						<button class="btn btn-secondary me-2" type="button" id="btn-cancel-form">
							<i class="fas fa-times-circle me-2"></i>Huỷ
						</button>
						<button class="btn btn-primary" type="button" id="btn-save-form">
							<i class="fas fa-save me-2"></i>Lưu
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</main>

<script src="~/assets/js/ThanhToan.js" asp-append-version="true" defer></script>