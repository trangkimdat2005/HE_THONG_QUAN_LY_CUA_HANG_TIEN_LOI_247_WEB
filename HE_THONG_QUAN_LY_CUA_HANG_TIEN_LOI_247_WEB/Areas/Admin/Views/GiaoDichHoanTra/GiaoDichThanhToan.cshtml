@using HE_THONG_QUAN_LY_CUA_HANG_TIEN_LOI_247_WEB.Models.Entities;

@{

    ViewData["title"] = "Chính sách đổi trả";
}
  <link rel="stylesheet" type="text/css" href="~/assets/css/GiaoDichThanhToan.css" />

  <main class="app-content">
    <div class="app-title">
      <div>
        <h1><i class="bi bi-cash-coin"></i> Lịch sử Giao dịch</h1>
        <p>Lịch sử tất cả các giao dịch thanh toán đã thực hiện</p>
      </div>
      <ul class="app-breadcrumb breadcrumb side">
        <li class="breadcrumb-item"><i class="bi bi-house-door fs-6"></i></li>
        <li class="breadcrumb-item active"><a href="#">Giao dịch thanh toán</a></li>
      </ul>
    </div>

    <section id="section-transaction-history">
      <div class="row">
        <div class="col-md-12">
          <div class="tile">
            <div class="tile-body">
              <div class="row mb-3">
                <div class="col-md-3"><label class="form-label">Từ ngày</label><input class="form-control" type="date"></div>
                <div class="col-md-3"><label class="form-label">Đến ngày</label><input class="form-control" type="date"></div>
                <div class="col-md-3">
                  <label class="form-label">Kênh thanh toán</label>
                  <select class="form-select">
                    <option value="">Tất cả kênh</option>
                    <option value="TIEN_MAT">Tiền mặt</option>
                    <option value="QR_PAY">QR Pay</option>
                  </select>
                </div>
                <div class="col-md-3 d-flex align-items-end">
                  <button class="btn btn-primary" type="button"><i class="fas fa-filter"></i> Lọc</button>
                </div>
              </div>

              <div class="table-responsive">
                <table class="table table-hover table-bordered" id="sampleTable">
                  <thead class="table-light">
                    <tr>
                      <th>Mã GD</th>
                      <th>Mã HĐ</th>
                      <th>Ngày GD</th>
                      <th>Kênh TT</th>
                      <th class="text-end">Số Tiền</th>
                      <th>Mô Tả</th>
                      <th class="text-center">Thao tác</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>GD001</td>
                      <td>HD001</td>
                      <td>02/11/2025, 14:30</td>
                      <td>Tiền mặt</td>
                      <td class="text-end fw-bold">151,000 đ</td>
                      <td>Thanh toán hóa đơn</td>
                      <td class="text-center">
                        <button class="btn btn-info btn-sm js-view-invoice" data-id="HD001" title="Xem chi tiết">
                          <i class="fas fa-eye"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="section-invoice-detail" class="d-none">
      <div class="row">
        <div class="col-md-12">
          <div class="tile">
            <div class="mb-3">
              <button class="btn btn-secondary js-back-to-history" type="button">
                <i class="fas fa-arrow-left me-2"></i>Quay lại
              </button>
              <button class="btn btn-primary float-end" type="button" onclick="window.print()">
                <i class="fas fa-print me-2"></i>In hóa đơn
              </button>
            </div>

            <div class="tile-body invoice-wrap" id="invoice-content-to-print">
              <div class="row invoice-header-custom">
                <div class="col-8">
                  <h3 class="invoice-title"><i class="fas fa-store me-2"></i>VALI MART</h3>
                  <div>Địa chỉ: 123 Đường ABC, Quận XYZ, TP.HCM</div>
                  <div>Hotline: 1900 1234</div>
                </div>
                <div class="col-4 text-end">
                  <h4>HÓA ĐƠN BÁN HÀNG</h4>
                  <div>Mã HĐ: <strong class="text-danger" id="detail-invoice-id">HD001</strong></div>
                  <div>Ngày: <strong id="detail-invoice-date">02/11/2025</strong></div>
                </div>
              </div>

              <div class="row mb-4">
                <div class="col-sm-6">
                  <h5>Khách hàng:</h5>
                  <address><strong>Nguyễn Thị Lan</strong><br>SĐT: 09xxxx</address>
                </div>
                <div class="col-sm-6 text-end">
                  <h5>Thu ngân:</h5>
                  <address><strong>Nguyễn Văn Ngân</strong><br>Ca sáng</address>
                </div>
              </div>

              <div class="table-responsive mb-4">
                <table class="table table-bordered align-middle" id="invoice-table-fix">
                  <thead class="table-light">
                    <tr>
                      <th class="c-stt">STT</th>
                      <th class="c-ten">Tên sản phẩm</th>
                      <th class="c-dvt">Đơn vị tính</th>
                      <th class="c-sl">Số lượng</th>
                      <th class="c-gia">Đơn giá</th>
                      <th class="c-tien">Thành tiền</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td class="c-stt">1</td>
                      <td class="c-ten">Nước tăng lực Redbull Thái</td>
                      <td class="c-dvt">Lon</td>
                      <td class="c-sl">2</td>
                      <td class="c-gia">12,000</td>
                      <td class="c-tien">24,000</td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div class="row justify-content-end">
                <div class="col-md-5">
                  <div class="invoice-total-box">
                    <div class="d-flex justify-content-between mb-2">
                      <span>Tổng tiền hàng:</span><span class="fw-bold">50,000 ₫</span>
                    </div>
                    <div class="d-flex justify-content-between mb-2 text-success">
                      <span>Giảm giá:</span><span>- 0 ₫</span>
                    </div>
                    <hr>
                    <div class="d-flex justify-content-between mb-4">
                      <span class="fs-4 fw-bold">TỔNG CỘNG:</span>
                      <span class="fs-4 fw-bold text-danger" id="detail-invoice-total">50,000 ₫</span>
                    </div>
                    <div class="d-flex justify-content-between fw-bold">
                      <span>Thanh toán bằng:</span><span class="text-primary" id="detail-payment-method">Tiền mặt</span>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </section>
  </main>


  <!-- js riêng ở đây nha! -->
  <script src="~/assets/js/GiaoDichThanhToan.js" asp-append-version="true" defer></script>
