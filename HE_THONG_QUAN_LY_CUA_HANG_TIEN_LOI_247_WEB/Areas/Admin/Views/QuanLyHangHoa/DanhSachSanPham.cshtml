@using HE_THONG_QUAN_LY_CUA_HANG_TIEN_LOI_247_WEB.Models.Entities;

@{

    ViewData["title"] = "Danh Sách Sản Phẩm";
}
  <!-- Css riêng ở đây nha -->
  <link rel="stylesheet" href="~/assets/lib/select2/dist/css/select2.min.css">
  <link rel="stylesheet" href="~/assets/css/ThemHangHoa.css">

  <!-- Main sidebar ở đây nha -->



<main class="app-content">
    <div class="app-title">
        <div>
            <h1><i class="bi bi-bar-chart-steps"></i> Quản lý Sản phẩm</h1>
            <p>Quản lý tất cả sản phẩm có trong cửa hàng</p>
        </div>
        <ul class="app-breadcrumb breadcrumb side">
            <li class="breadcrumb-item"><i class="bi bi-house-door fs-6"></i></li>
            <li class="breadcrumb-item">Quản lý hàng hoá</li>
            <li class="breadcrumb-item active"><a asp-controller="QuanLyHangHoa" asp-action="DanhSachSanPham">Danh sách sản phẩm</a></li>
        </ul>
    </div>

    <div class="row flex-nowrap" id="main-row-container" style="overflow: hidden;">

        <div class="col-md-12" id="product-list-col">
            <div class="tile">
                <div class="tile-title-w-btn d-flex justify-content-between align-items-center">
                    <h3 class="title" style="margin-bottom: 0">Danh Sách Sản Phẩm</h3>
                    <a class="btn btn-primary btn-add-khoi" href="#" id="show-add-form-btn">
                        <i class="fas fa-plus"></i> Thêm sản phẩm mới
                    </a>
                </div>
                <div class="tile-body">
                    <div class="table-responsive">
                        <table class="table table-hover table-bordered" id="sampleTable">
                            <thead>
                                <tr>
                                    <th>Mã sản phẩm</th>
                                    <th>Tên sản phẩm</th>
                                    <th>Danh mục</th>
                                    <th>Nhãn hiệu</th>
                                    <th>Đơn vị</th>
                                    <th>Giá bán</th>
                                    <th>Trạng thái</th>
                                    <th>Thao tác</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr data-id="CK001" data-name="Thịt gà công nghiệp" data-danh-muc-ids='["DM_TP"]'
                                    data-nhan-hieu-id="NH_CP" data-don-vi-id="DV_KG" data-price="85000"
                                    data-mo-ta="Thịt gà tươi, đã làm sạch." data-trang-thai="ConHang">
                                    <td>CK001</td>
                                    <td>Thịt gà công nghiệp</td>
                                    <td>Thực phẩm</td>
                                    <td>CP Foods</td>
                                    <td>KG</td>
                                    <td>85,000 đ</td>
                                    <td><span class="badge bg-success">Còn hàng</span></td>
                                    <td class="text-center">
                                        <button class="btn btn-info btn-sm me-1 btn-edit-khoi" title="Sửa">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="btn btn-danger btn-sm btn-delete-khoi" title="Xóa">
                                            <i class="fas fa-trash-alt"></i>
                                        </button>
                                    </td>
                                </tr>
                               
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div id="product-form-col">
            <div class="tile">
                <h3 class="tile-title" id="form-title">Thêm Sản Phẩm Mới</h3>
                <div class="tile-body">
                    <form id="product-form">
                        <div class="mb-3">
                            <label class="form-label fw-bold">Thêm hình ảnh</label>
                            <div class="upload-zone" id="upload-zone">
                                <input type="file" id="form-images-upload" accept=".png, .jpg, .jpeg" multiple>

                                <div class="upload-zone-content" id="upload-placeholder">
                                    <i class="fas fa-cloud-upload-alt fa-3x mb-3"></i>
                                    <p class="mb-1 fw-bold">Click để chọn ảnh</p>
                                    <p class="small">Hỗ trợ JPG, PNG. Giữ Ctrl để chọn nhiều ảnh.</p>
                                </div>

                                <div id="images-preview-container" class="d-flex flex-wrap gap-2" style="display: none;">
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Mã sản phẩm (id)</label>
                            <input class="form-control" type="text" id="form-product-id" placeholder="Mã sẽ được tạo tự động"
                                   readonly>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Tên sản phẩm <span class="text-danger">*</span></label>
                            <input class="form-control" type="text" id="form-product-name"
                                   placeholder="V.d: Nước tăng lực Sting Dâu" required>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Nhãn hiệu</label>
                            <select class="form-control" id="form-select-nhan-hieu" style="width: 100%;">
                                <option value="">-- Chọn nhãn hiệu --</option>
                                <option value="NH_PEPSI">PepsiCo</option>
                                <option value="NH_ORION">Orion</option>
                                <option value="NH_VNM">Vinamilk</option>
                                <option value="NH_TH">TH True Milk</option>
                                <option value="NH_CP">CP Foods</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Danh mục</label>
                            <select class="form-control" id="form-select-danh-muc" multiple="multiple" style="width: 100%;">
                                <option value="DM_DU">Đồ uống</option>
                                <option value="DM_AN">Đồ ăn nhanh</option>
                                <option value="DM_SUA">Sản phẩm từ sữa</option>
                                <option value="DM_TP">Thực phẩm</option>
                                <option value="DM_HS">Hải sản</option>
                            </select>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Đơn vị cơ sở</label>
                                    <select class="form-control" id="form-select-don-vi" style="width: 100%;">
                                        <option value="DV_CHAI">Chai</option>
                                        <option value="DV_LON">Lon</option>
                                        <option value="DV_GOI">Gói</option>
                                        <option value="DV_HOP">Hộp</option>
                                        <option value="DV_LOC">Lốc</option>
                                        <option value="DV_KG">KG</option>
                                        <option value="DV_GRAM">Gram</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label class="form-label">Hệ số quy đổi</label>
                                    <input class="form-control" type="number" value="1" readonly
                                           title="Đơn vị cơ sở luôn có hệ số là 1">
                                </div>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Giá bán (của Đơn vị cơ sở)</label>
                            <input class="form-control" type="number" id="form-product-price" placeholder="V.d: 10000">
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Mô tả sản phẩm</label>
                            <textarea class="form-control" id="form-product-description" rows="3"
                                      placeholder="Mô tả chi tiết sản phẩm"></textarea>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Trạng thái</label>
                            <div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="trangThaiSP" id="tt1" value="ConHang" checked>
                                    <label class="form-check-label" for="tt1">Còn hàng</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="trangThaiSP" id="tt2" value="HetHang">
                                    <label class="form-check-label" for="tt2">Hết hàng</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="trangThaiSP" id="tt3" value="NgungKinhDoanh">
                                    <label class="form-check-label" for="tt3">Ngừng kinh doanh</label>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="tile-footer">
                    <button class="btn btn-primary" type="button" id="btn-submit">
                        <i class="bi bi-check-circle-fill me-2"></i>Thêm
                    </button>
                    <button class="btn btn-info" type="button" id="btn-edit-mode" style="display: none;">
                        <i class="fas fa-edit me-2"></i>Chỉnh sửa
                    </button>
                    <button class="btn btn-secondary" type="button" id="btn-cancel">
                        <i class="bi bi-x-circle-fill me-2"></i>Huỷ
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>


  <!-- js riêng ở đây nha! -->
<script src="~/assets/lib/select2/dist/js/select2.min.js" asp-append-version="true" defer></script>
 <script src="~/assets/js/DanhSachSanPham.js" asp-append-version="true" defer></script>
